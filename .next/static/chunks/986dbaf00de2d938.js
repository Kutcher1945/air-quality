(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40160,e=>{"use strict";let t=(0,e.i(75254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],40160)},67585,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=e.r(32061);function s({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,a)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return i}});let r=e.r(43476),s=e.r(74080),l=e.r(63599),n=e.r(9885);function i({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;a.push(...e)}}return 0===a.length?null:(0,r.jsx)(r.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,n.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return d}});let r=e.r(43476),s=e.r(71645),l=e.r(67585),n=e.r(52157);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},a=(0,s.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?s.Suspense:s.Fragment,u=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...o?{fallback:i}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s}});let r=e.r(55682)._(e.r(69093));function s(e,t){let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,r.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},86810,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(70703),s=e.i(67881),l=e.i(7486),n=e.i(75254);let i=(0,n.default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),o=(0,n.default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);var d=e.i(40160),c=e.i(37727);let u=(0,n.default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),g=(0,n.default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),m=(0,n.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),x=(0,n.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),h="buildings";function p(){return new Promise((e,t)=>{let a=indexedDB.open("BuildingsCache",1);a.onerror=()=>t(a.error),a.onsuccess=()=>e(a.result),a.onupgradeneeded=e=>{let t=e.target.result;t.objectStoreNames.contains(h)||t.createObjectStore(h)}})}async function b(e){try{let t=await p(),a=t.transaction([h],"readwrite"),r=a.objectStore(h),s={timestamp:Date.now(),data:e};return r.put(s,"buildingsData"),new Promise((e,r)=>{a.oncomplete=()=>{t.close(),e()},a.onerror=()=>r(a.error)})}catch(e){console.error("Failed to save to cache:",e)}}async function f(){try{let e=await p(),t=e.transaction([h],"readonly").objectStore(h).get("buildingsData");return new Promise((a,r)=>{t.onsuccess=()=>{e.close();let r=t.result;if(!r)return void a(null);let s=Date.now()-r.timestamp;if(s>864e5){console.log("Cache expired, will fetch fresh data"),a(null);return}console.log(`Cache hit! Data is ${Math.round(s/1e3/60)} minutes old`),a(r.data)},t.onerror=()=>{e.close(),r(t.error)}})}catch(e){return console.error("Failed to read from cache:",e),null}}async function y(){try{let e=await p(),t=e.transaction([h],"readwrite");return t.objectStore(h).delete("buildingsData"),new Promise((a,r)=>{t.oncomplete=()=>{e.close(),console.log("Cache cleared"),a()},t.onerror=()=>r(t.error)})}catch(e){console.error("Failed to clear cache:",e)}}let j=(0,r.default)(()=>e.A(4113),{loadableGenerated:{modules:[66148]},ssr:!1}),w={1:"ĞĞ»Ğ°Ñ‚Ğ°ÑƒÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",2:"ĞĞ»Ğ¼Ğ°Ğ»Ğ¸Ğ½ÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",3:"ĞÑƒÑĞ·Ğ¾Ğ²ÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",4:"Ğ‘Ğ¾ÑÑ‚Ğ°Ğ½Ğ´Ñ‹ĞºÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",5:"Ğ–ĞµÑ‚Ñ‹ÑÑƒÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",6:"ĞœĞµĞ´ĞµÑƒÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",7:"ĞĞ°ÑƒÑ€Ñ‹Ğ·Ğ±Ğ°Ğ¹ÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",8:"Ğ¢ÑƒÑ€ĞºÑĞ¸Ğ±ÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½"};function v(){let[e,r]=(0,a.useState)([]),[n,h]=(0,a.useState)([]),[p,v]=(0,a.useState)([]),[N,_]=(0,a.useState)(!0),[k,C]=(0,a.useState)({loaded:0,total:0,status:""}),[S,P]=(0,a.useState)(null),[A,z]=(0,a.useState)("all"),[L,O]=(0,a.useState)(""),[F,$]=(0,a.useState)("all"),[M,T]=(0,a.useState)(!1),[D,E]=(0,a.useState)(!0),[R,I]=(0,a.useState)(null),[B,U]=(0,a.useState)(!1),[H,q]=(0,a.useState)(null),[X,G]=(0,a.useState)(null),[J,K]=(0,a.useState)(null),[V,W]=(0,a.useState)(!1),[Z,Q]=(0,a.useState)(!1),[Y,ee]=(0,a.useState)(null);(0,a.useEffect)(()=>{er(),es(),el()},[]);let et=(0,a.useCallback)(e=>{I(e),U(!0)},[]),ea=(0,a.useCallback)(e=>{if(z(e),"all"===e)ee(null);else{let t=Object.entries(w).find(([t,a])=>a===e)?.[0];t?ee(parseInt(t)):ee(null)}},[]),er=async(e=!1)=>{try{if(_(!0),P(null),C({loaded:0,total:0,status:"ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºÑÑˆĞ°..."}),!e){let e=await f();if(e&&e.length>0){console.log("ğŸ’¾ Loading from cache:",e.length,"buildings"),C({loaded:0,total:e.length,status:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ· ĞºÑÑˆĞ°..."}),await new Promise(e=>setTimeout(e,300)),C({loaded:e.length,total:e.length,status:"ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…..."});let t=en(e);console.log("ğŸ¢ Transformed from cache:",{total:t.length,byCategory:{general:t.filter(e=>"general"===e.building_category).length,izhs:t.filter(e=>"izhs"===e.building_category).length,susn:t.filter(e=>"susn"===e.building_category).length}}),await new Promise(e=>setTimeout(e,200)),C({loaded:t.length,total:t.length,status:"Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!"}),r(t),await new Promise(e=>setTimeout(e,300)),_(!1);return}}console.log("ğŸ“¡ Fetching from API..."),C({loaded:0,total:0,status:"ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº ÑĞµÑ€Ğ²ĞµÑ€Ñƒ..."});let t=[{delay:1500,status:"ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°..."},{delay:3e3,status:"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (~50,000 Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²)..."},{delay:5e3,status:"ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ°..."},{delay:7e3,status:"ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ³Ğ¾ Ğ¾Ğ±ÑŠĞµĞ¼Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…..."},{delay:1e4,status:"ĞŸĞ¾Ñ‡Ñ‚Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾, ĞµÑ‰Ğµ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾..."},{delay:13e3,status:"Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸..."}].map(({delay:e,status:t})=>setTimeout(()=>C({loaded:0,total:0,status:t}),e)),a=await fetch("https://admin.smartalmaty.kz/api/v1/address/buildings-without-gas/all-sources/");if(t.forEach(clearTimeout),!a.ok)throw Error(`API returned ${a.status}`);C({loaded:0,total:0,status:"ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…..."});let s=await a.json(),l=s.data||s;console.log("ğŸ“Š API Response:",{totalFromAPI:l?.length||0,sampleData:l?.[0]}),await new Promise(e=>setTimeout(e,200)),C({loaded:l.length,total:l.length,status:"ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…..."}),await b(l),await new Promise(e=>setTimeout(e,200)),C({loaded:l.length,total:l.length,status:"Ğ¢Ñ€Ğ°Ğ½ÑÑ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…..."});let n=en(l);console.log("ğŸ¢ Transformed Buildings:",{total:n.length,withCoordinates:n.filter(e=>e.latitude&&e.longitude).length,byCategory:{general:n.filter(e=>"general"===e.building_category).length,izhs:n.filter(e=>"izhs"===e.building_category).length,susn:n.filter(e=>"susn"===e.building_category).length}}),console.log("ğŸ“ Map will display:",n.length,"markers"),await new Promise(e=>setTimeout(e,200)),C({loaded:n.length,total:n.length,status:"Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!"}),r(n),await new Promise(e=>setTimeout(e,300))}catch(e){console.error("Failed to fetch buildings from API:",e),P("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· API"),r(ei())}finally{_(!1),C({loaded:0,total:0,status:""})}},es=async()=>{try{console.log("ğŸ“¡ Fetching renovation areas...");let e=await fetch("https://admin.smartalmaty.kz/api/v1/address/renovation-areas/");if(!e.ok)throw Error(`Renovation areas API returned ${e.status}`);let t=await e.json();console.log("ğŸ—ï¸ Renovation areas fetched:",t);let a=[];t.results&&"FeatureCollection"===t.results.type?a=t.results.features||[]:"FeatureCollection"===t.type?a=t.features||[]:Array.isArray(t)?a=t:t.results&&Array.isArray(t.results)&&(a=t.results),console.log("ğŸ“ Processing",a.length,"renovation area features");let r=a.map(e=>"Feature"===e.type?{id:e.id||e.properties?.id,name_ru:e.properties?.name_ru,name_kz:e.properties?.name_kz,address:e.properties?.address,number_of_houses:e.properties?.number_of_houses,number_of_apartments:e.properties?.number_of_apartments,plot_area:e.properties?.plot_area,photo_url:e.properties?.photo_url,geometry:e.geometry,created_at:e.properties?.created_at}:e);console.log("âœ… Transformed renovation areas:",r),h(r),console.log("âœ… Loaded",r.length,"renovation areas")}catch(e){console.error("Failed to fetch renovation areas:",e)}},el=async()=>{try{console.log("ğŸ“¡ Fetching districts...");let e=await fetch("https://admin.smartalmaty.kz/api/v1/address/districts/");if(!e.ok)throw Error(`Districts API returned ${e.status}`);let t=await e.json();console.log("ğŸ—ºï¸ Districts fetched:",t);let a=[];t.results&&"FeatureCollection"===t.results.type?a=t.results.features||[]:"FeatureCollection"===t.type?a=t.features||[]:Array.isArray(t)?a=t:t.results&&Array.isArray(t.results)&&(a=t.results),console.log("ğŸ“ Processing",a.length,"district features");let r=a.map(e=>"Feature"===e.type?{id:e.id||e.properties?.id,name:e.properties?.name||e.properties?.name_ru||`District ${e.id}`,geometry:e.geometry}:{id:e.id,name:e.name||e.name_ru||`District ${e.id}`,geometry:e.geometry}).filter(e=>0!==e.id&&9!==e.id);console.log("âœ… Transformed districts:",r),v(r),console.log("âœ… Loaded",r.length,"districts (excluded id 0 and 9)")}catch(e){console.error("Failed to fetch districts:",e)}},en=e=>(e||[]).map(e=>{let t=(e.category||"").toLowerCase(),a="general";t.includes("Ğ¸Ğ¶Ñ")||t.includes("izhs")?a="izhs":(t.includes("ÑÑƒÑĞ½")||t.includes("susn"))&&(a="susn");let r=e.district&&"string"==typeof e.district?e.district:e.district_id&&w[String(e.district_id)]?w[String(e.district_id)]:e.district_id?`Ğ Ğ°Ğ¹Ğ¾Ğ½ ${e.district_id}`:"ĞĞµ ÑƒĞºĞ°Ğ·Ğ°Ğ½";return{id:e.id?.toString()||crypto.randomUUID(),address:e.address||"Ğ‘ĞµĞ· Ğ°Ğ´Ñ€ĞµÑĞ°",district:r,district_id:e.district_id,latitude:e.lat??e.latitude??null,longitude:e.lon??e.longitude??null,has_gas:!1,building_type:"izhs"===a?"Ğ˜Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¶Ğ¸Ğ»Ğ¸Ñ‰Ğ½Ğ¾Ğµ ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ¾":"susn"===a?"Ğ¡Ğ¾Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ ÑƒÑĞ·Ğ²Ğ¸Ğ¼Ñ‹Ğµ ÑĞ»Ğ¾Ğ¸ Ğ½Ğ°ÑĞµĞ»ĞµĞ½Ğ¸Ñ":"Ğ–Ğ¸Ğ»Ğ¾Ğµ Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ",building_category:a,is_not_in_almaty:e.is_not_in_almaty||!1,is_seasonal_or_unused:e.is_seasonal_or_unused||!1,geometry:e.geometry||null}}),ei=()=>[{id:"1",address:"ÑƒĞ». ĞĞ±Ğ°Ñ, 150",district:"ĞĞ»Ğ¼Ğ°Ğ»Ğ¸Ğ½ÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",latitude:43.2566,longitude:76.9286,has_gas:!1,building_type:"Ğ–Ğ¸Ğ»Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼",building_category:"general",floors:9,apartments:72,year_built:1985},{id:"2",address:"Ğ¿Ñ€. Ğ”Ğ¾ÑÑ‚Ñ‹Ğº, 234",district:"ĞœĞµĞ´ĞµÑƒÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",latitude:43.2378,longitude:76.9458,has_gas:!1,building_type:"Ğ–Ğ¸Ğ»Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼",building_category:"general",floors:5,apartments:40,year_built:1978},{id:"3",address:"ÑƒĞ». Ğ¢Ğ¸Ğ¼Ğ¸Ñ€ÑĞ·ĞµĞ²Ğ°, 42",district:"Ğ‘Ğ¾ÑÑ‚Ğ°Ğ½Ğ´Ñ‹ĞºÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",latitude:43.2221,longitude:76.8515,has_gas:!1,building_type:"Ğ–Ğ¸Ğ»Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼",building_category:"general",floors:12,apartments:144,year_built:1990},{id:"4",address:"ÑƒĞ». Ğ Ğ¾Ğ·Ñ‹Ğ±Ğ°ĞºĞ¸ĞµĞ²Ğ°, 180",district:"ĞĞ»Ğ°Ñ‚Ğ°ÑƒÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",latitude:43.2145,longitude:76.8967,has_gas:!1,building_type:"Ğ–Ğ¸Ğ»Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼",building_category:"general",floors:16,apartments:192,year_built:2005},{id:"5",address:"Ğ¼ĞºÑ€. Ğ¡Ğ°Ğ¼Ğ°Ğ»-2, 58",district:"ĞœĞµĞ´ĞµÑƒÑĞºĞ¸Ğ¹ Ñ€Ğ°Ğ¹Ğ¾Ğ½",latitude:43.2456,longitude:76.9567,has_gas:!1,building_type:"Ğ–Ğ¸Ğ»Ğ¾Ğ¹ Ğ´Ğ¾Ğ¼",building_category:"general",floors:9,apartments:108,year_built:1988}],eo=(0,a.useMemo)(()=>e.filter(e=>{if("general"!==e.building_category)return!1;let t="all"===A||e.district===A,a=""===L||e.address.toLowerCase().includes(L.toLowerCase())||e.district.toLowerCase().includes(L.toLowerCase()),r="all"===F||e.building_category===F,s=!H||e.year_built&&e.year_built>=H.min&&e.year_built<=H.max,l=!X||e.floors&&e.floors>=X.min&&e.floors<=X.max,n=!J||e.apartments&&e.apartments>=J.min&&e.apartments<=J.max;return t&&a&&r&&s&&l&&n}),[e,A,L,F,H,X,J]),ed=e.filter(e=>"general"===e.building_category),ec=Array.from(new Set(ed.map(e=>e.district))).filter(e=>"Ğ Ğ°Ğ¹Ğ¾Ğ½ 9"!==e&&"ĞĞµ ÑƒĞºĞ°Ğ·Ğ°Ğ½"!==e).sort(),eu={general:ed.length,izhs:e.filter(e=>"izhs"===e.building_category).length,susn:e.filter(e=>"susn"===e.building_category).length};return eo.filter(e=>"general"===e.building_category).length,eo.filter(e=>"izhs"===e.building_category).length,eo.filter(e=>"susn"===e.building_category).length,new Set(ed.map(e=>`${e.latitude},${e.longitude}`)).size,ed.filter(e=>e.latitude&&e.longitude).length,ed.length,ed.length,eu.general,eu.izhs,eu.susn,ed.filter(e=>!e.has_gas).length,ed.reduce((e,t)=>e+(t.apartments||0),0),ed.filter(e=>!0===e.is_not_in_almaty).length,ed.filter(e=>!0===e.is_not_in_almaty&&"general"===e.building_category).length,ed.filter(e=>!0===e.is_seasonal_or_unused).length,(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("main",{className:"relative h-screen w-screen overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 z-0",children:N?(0,t.jsx)("div",{className:"flex h-full items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:k.status||"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°..."}),k.total>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2 overflow-hidden",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${k.loaded/k.total*100}%`}})}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:[k.loaded.toLocaleString()," / ",k.total.toLocaleString()," Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²"]})]})]})}):S?(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-3 bg-background",children:[(0,t.jsx)(i,{className:"h-12 w-12 text-orange-500"}),(0,t.jsx)("p",{className:"text-red-500 font-semibold",children:S}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑÑ‚ÑÑ Ñ‚ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸"}),(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>er(!0),children:"ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ½Ğ¾Ğ²Ğ°"})]}):(0,t.jsx)(j,{buildings:eo.filter(e=>e.latitude&&e.longitude),renovationAreas:n,districts:p,selectedDistrictId:Y,showHeatmap:M,showRenovationAreas:D,onBuildingClick:et})}),(0,t.jsxs)("div",{className:"relative z-10 h-full w-full pointer-events-none",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 bottom-0 w-[280px] pointer-events-auto z-20",children:(0,t.jsxs)("div",{className:"h-full bg-white border-r border-gray-200/80 backdrop-blur-xl bg-white/95 shadow-lg flex flex-col",children:[(0,t.jsx)("div",{className:"px-4 py-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-gray-900 to-gray-700 shadow-md",children:(0,t.jsx)(l.Building2,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[8px] uppercase tracking-[0.2em] text-gray-400 font-semibold leading-tight",children:"Ğ˜ĞĞ¤Ğ ĞĞ¡Ğ¢Ğ Ğ£ĞšĞ¢Ğ£Ğ Ğ / ĞĞ›ĞœĞĞ¢Ğ«"}),(0,t.jsx)("h1",{className:"text-base font-bold text-gray-900 leading-tight mt-0.5",children:"Ğ—Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±ĞµĞ· Ğ³Ğ°Ğ·Ğ°"})]})]})}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-gray-600 font-medium",children:"Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹:"}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-lg font-bold text-blue-600 tabular-nums",children:eo.length.toLocaleString()}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:"/"}),(0,t.jsx)("span",{className:"text-sm text-gray-500 tabular-nums",children:ed.length.toLocaleString()})]})]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-semibold text-gray-700 uppercase tracking-wider mb-2 block",children:"ğŸ” ĞŸĞ¾Ğ¸ÑĞº"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",value:L,onChange:e=>O(e.target.value),placeholder:"Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ°Ğ´Ñ€ĞµÑ...",className:"h-9 w-full rounded-lg border-2 border-gray-200 bg-white pl-3 pr-8 text-xs focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100 transition-all"}),L&&(0,t.jsx)("button",{onClick:()=>O(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,t.jsx)(c.X,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[10px] font-semibold text-gray-700 uppercase tracking-wider mb-2 block",children:"ğŸ“ Ğ Ğ°Ğ¹Ğ¾Ğ½"}),(0,t.jsxs)("select",{value:A,onChange:e=>ea(e.target.value),className:"h-9 w-full rounded-lg border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-white px-3 text-xs font-semibold text-blue-700 focus:outline-none focus:border-blue-400 focus:ring-2 focus:ring-blue-100 transition-all shadow-sm cursor-pointer",children:[(0,t.jsx)("option",{value:"all",children:"Ğ’ÑĞµ Ñ€Ğ°Ğ¹Ğ¾Ğ½Ñ‹"}),ec.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-semibold text-gray-700 uppercase tracking-wider mb-2 block",children:"âš™ï¸ Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>er(!0),disabled:N,className:"w-full h-9 rounded-lg text-xs font-medium bg-white text-gray-700 border border-gray-200 hover:border-gray-300 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[(0,t.jsx)(x,{className:`h-3.5 w-3.5 ${N?"animate-spin":""}`}),"ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ"]}),(0,t.jsxs)("button",{onClick:()=>T(!M),className:`w-full h-9 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-2 ${M?"bg-gray-900 text-white shadow-sm":"bg-white text-gray-700 border border-gray-200 hover:border-gray-300"}`,children:[(0,t.jsx)(o,{className:"h-3.5 w-3.5"}),M?"ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹":"Ğ¢ĞµĞ¿Ğ»Ğ¾Ğ²Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ°"]}),(0,t.jsxs)("button",{onClick:()=>E(!D),className:`w-full h-9 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-2 ${D?"bg-purple-600 text-white shadow-sm":"bg-white text-gray-700 border border-gray-200 hover:border-gray-300"}`,children:[(0,t.jsx)(g,{className:"h-3.5 w-3.5"}),"Ğ ĞµĞ½Ğ¾Ğ²Ğ°Ñ†Ğ¸Ñ ",D?"âœ“":""]}),(0,t.jsxs)("button",{onClick:()=>W(!V),className:`w-full h-9 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-2 ${V?"bg-gray-900 text-white shadow-sm":"bg-white text-gray-700 border border-gray-200 hover:border-gray-300"}`,children:[(0,t.jsx)(g,{className:"h-3.5 w-3.5"}),"Ğ”Ğ¾Ğ¿. Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ ",V?"âœ“":""]})]})]}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-semibold text-gray-700 uppercase tracking-wider mb-2 block",children:"ğŸ“¥ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>{let e=eo.map(e=>({ĞĞ´Ñ€ĞµÑ:e.address,Ğ Ğ°Ğ¹Ğ¾Ğ½:e.district,Ğ¢Ğ¸Ğ¿:e.building_type,ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:"general"===e.building_category?"ALSECO":"izhs"===e.building_category?"Ğ˜Ğ–Ğ¡":"Ğ¡Ğ£Ğ¡Ğ",Ğ­Ñ‚Ğ°Ğ¶ĞµĞ¹:e.floors||"Ğ/Ğ”",ĞšĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€:e.apartments||"Ğ/Ğ”","Ğ“Ğ¾Ğ´ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸":e.year_built||"Ğ/Ğ”",Ğ¨Ğ¸Ñ€Ğ¾Ñ‚Ğ°:e.latitude,Ğ”Ğ¾Ğ»Ğ³Ğ¾Ñ‚Ğ°:e.longitude})),t=Object.keys(e[0]||{}),a=new Blob(["\uFEFF"+[t.join(","),...e.map(e=>t.map(t=>`"${e[t]}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),s=URL.createObjectURL(a);r.setAttribute("href",s),r.setAttribute("download",`buildings-without-gas-${F}-${new Date().toISOString().split("T")[0]}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},className:"w-full h-9 rounded-lg text-xs font-medium bg-white text-gray-700 border border-gray-200 hover:border-gray-300 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(d.Download,{className:"h-3.5 w-3.5"}),"Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² CSV"]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([JSON.stringify(eo,null,2)],{type:"application/json"}),t=document.createElement("a"),a=URL.createObjectURL(e);t.setAttribute("href",a),t.setAttribute("download",`buildings-without-gas-${F}-${new Date().toISOString().split("T")[0]}.json`),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"w-full h-9 rounded-lg text-xs font-medium bg-white text-gray-700 border border-gray-200 hover:border-gray-300 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(d.Download,{className:"h-3.5 w-3.5"}),"Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² JSON"]}),(0,t.jsx)("button",{onClick:async()=>{await y(),er(!0)},className:"w-full h-9 rounded-lg text-xs font-medium bg-red-50 text-red-600 border border-red-200 hover:bg-red-100 transition-all flex items-center justify-center gap-2",children:"ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ ĞºÑÑˆ"})]})]})]})})]})}),(0,t.jsxs)("div",{className:"absolute top-4 right-0 w-[170px] flex flex-col gap-2.5 pointer-events-auto z-10",children:[(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-l-xl py-3.5 px-4 shadow-sm border-l-[3px] border-orange-500",children:[(0,t.jsx)("p",{className:"text-[8.5px] uppercase tracking-[0.15em] text-gray-500 mb-1 font-medium",children:"Ğ’Ğ¡Ğ•Ğ“Ğ ALSECO"}),(0,t.jsx)("p",{className:"text-[2.75rem] font-bold text-orange-600 leading-none tabular-nums",children:eu.general}),(0,t.jsx)("p",{className:"text-[7.5px] text-orange-400 mt-1.5 leading-tight",children:"Ğ¶Ğ¸Ğ»Ñ‹Ñ… Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¹"})]}),(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-l-xl py-3.5 px-4 shadow-sm border-l-[3px] border-green-500",children:[(0,t.jsx)("p",{className:"text-[8.5px] uppercase tracking-[0.15em] text-gray-500 mb-1 font-medium",children:"ALSECO Ğ¡ ĞšĞĞĞ Ğ”Ğ˜ĞĞĞ¢ĞĞœĞ˜"}),(0,t.jsx)("p",{className:"text-[2.75rem] font-bold text-green-600 leading-none tabular-nums",children:ed.filter(e=>e.latitude&&e.longitude).length}),(0,t.jsx)("p",{className:"text-[7.5px] text-green-400 mt-1.5 leading-tight",children:"Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ"})]}),(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-l-xl py-3.5 px-4 shadow-sm border-l-[3px] border-amber-500",children:[(0,t.jsx)("p",{className:"text-[8.5px] uppercase tracking-[0.15em] text-gray-500 mb-1 font-medium",children:"ALSECO Ğ‘Ğ•Ğ— ĞšĞĞĞ Ğ”Ğ˜ĞĞĞ¢"}),(0,t.jsx)("p",{className:"text-[2.75rem] font-bold text-amber-600 leading-none tabular-nums",children:ed.filter(e=>!e.latitude||!e.longitude).length}),(0,t.jsx)("p",{className:"text-[7.5px] text-amber-400 mt-1.5 leading-tight",children:"Ğ½Ğµ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ"})]}),(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-l-xl py-3.5 px-4 shadow-sm border-l-[3px] border-purple-500",children:[(0,t.jsx)("p",{className:"text-[8.5px] uppercase tracking-[0.15em] text-gray-500 mb-1 font-medium",children:"Ğ£ĞĞ˜ĞšĞĞ›Ğ¬ĞĞ«Ğ¥ ĞšĞĞĞ Ğ”Ğ˜ĞĞĞ¢"}),(0,t.jsx)("p",{className:"text-[2.75rem] font-bold text-purple-600 leading-none tabular-nums",children:new Set(ed.map(e=>`${e.latitude},${e.longitude}`)).size}),(0,t.jsx)("p",{className:"text-[7.5px] text-purple-400 mt-1.5 leading-tight",children:"Ñ‚Ğ¾Ñ‡ĞµĞº Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğµ"})]}),(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-l-xl py-3.5 px-4 shadow-sm border-l-[3px] border-red-500",children:[(0,t.jsx)("p",{className:"text-[8.5px] uppercase tracking-[0.15em] text-gray-500 mb-1 font-medium",children:"ALSECO ĞĞ• Ğ’ ĞĞ›ĞœĞĞ¢Ğ«"}),(0,t.jsx)("p",{className:"text-[2.75rem] font-bold text-red-600 leading-none tabular-nums",children:ed.filter(e=>!0===e.is_not_in_almaty).length}),(0,t.jsx)("p",{className:"text-[7.5px] text-red-400 mt-1.5 leading-tight",children:"Ğ·Ğ° Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ°Ğ¼Ğ¸"})]}),(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-l-xl py-3.5 px-4 shadow-sm border-l-[3px] border-blue-500",children:[(0,t.jsx)("p",{className:"text-[8.5px] uppercase tracking-[0.15em] text-gray-500 mb-1 font-medium",children:"ALSECO Ğ’ ĞĞ›ĞœĞĞ¢Ğ«"}),(0,t.jsx)("p",{className:"text-[2.75rem] font-bold text-blue-600 leading-none tabular-nums",children:ed.filter(e=>!e.is_not_in_almaty).length}),(0,t.jsx)("p",{className:"text-[7.5px] text-blue-400 mt-1.5 leading-tight",children:"Ğ² Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğµ"})]})]}),V&&(0,t.jsx)("div",{className:"absolute top-[70px] right-4 w-[280px] pointer-events-auto z-20",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl rounded-xl p-4 shadow-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-900",children:"Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹"}),(0,t.jsx)("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(c.X,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[10px] font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[(0,t.jsx)(u,{className:"h-3 w-3"}),"Ğ“Ğ¾Ğ´ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"ĞÑ‚",value:H?.min||"",onChange:e=>q(t=>({min:Number(e.target.value),max:t?.max||2025})),className:"w-1/2 h-7 rounded border border-gray-200 px-2 text-xs focus:outline-none focus:border-gray-400"}),(0,t.jsx)("input",{type:"number",placeholder:"Ğ”Ğ¾",value:H?.max||"",onChange:e=>q(t=>({min:t?.min||1900,max:Number(e.target.value)})),className:"w-1/2 h-7 rounded border border-gray-200 px-2 text-xs focus:outline-none focus:border-gray-400"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[10px] font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[(0,t.jsx)(g,{className:"h-3 w-3"}),"ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑÑ‚Ğ°Ğ¶ĞµĞ¹"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"ĞÑ‚",value:X?.min||"",onChange:e=>G(t=>({min:Number(e.target.value),max:t?.max||100})),className:"w-1/2 h-7 rounded border border-gray-200 px-2 text-xs focus:outline-none focus:border-gray-400"}),(0,t.jsx)("input",{type:"number",placeholder:"Ğ”Ğ¾",value:X?.max||"",onChange:e=>G(t=>({min:t?.min||1,max:Number(e.target.value)})),className:"w-1/2 h-7 rounded border border-gray-200 px-2 text-xs focus:outline-none focus:border-gray-400"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"text-[10px] font-medium text-gray-700 mb-1.5 flex items-center gap-1",children:[(0,t.jsx)(m,{className:"h-3 w-3"}),"ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"ĞÑ‚",value:J?.min||"",onChange:e=>K(t=>({min:Number(e.target.value),max:t?.max||1e3})),className:"w-1/2 h-7 rounded border border-gray-200 px-2 text-xs focus:outline-none focus:border-gray-400"}),(0,t.jsx)("input",{type:"number",placeholder:"Ğ”Ğ¾",value:J?.max||"",onChange:e=>K(t=>({min:t?.min||1,max:Number(e.target.value)})),className:"w-1/2 h-7 rounded border border-gray-200 px-2 text-xs focus:outline-none focus:border-gray-400"})]})]}),(0,t.jsx)("button",{onClick:()=>{q(null),G(null),K(null)},className:"w-full h-7 rounded-lg text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-all",children:"Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹"})]})]})}),B&&R&&(0,t.jsx)("div",{className:"absolute top-0 right-0 h-full w-[380px] pointer-events-auto z-30",children:(0,t.jsxs)("div",{className:"h-full bg-white shadow-2xl border-l border-gray-200 overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`h-8 w-8 rounded-lg flex items-center justify-center ${"general"===R.building_category?"bg-orange-100":"izhs"===R.building_category?"bg-blue-100":"bg-red-100"}`,children:(0,t.jsx)(l.Building2,{className:`h-4 w-4 ${"general"===R.building_category?"text-orange-600":"izhs"===R.building_category?"text-blue-600":"text-red-600"}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[9px] uppercase tracking-wider text-gray-400 font-medium",children:"Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ"}),(0,t.jsx)("h2",{className:"text-xs font-semibold text-gray-900",children:"general"===R.building_category?"ALSECO":"izhs"===R.building_category?"Ğ˜Ğ–Ğ¡":"Ğ¡Ğ£Ğ¡Ğ"})]})]}),(0,t.jsx)("button",{onClick:()=>{U(!1),I(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(c.X,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-1",children:"ĞĞ´Ñ€ĞµÑ"}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:R.address})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-1",children:"Ğ Ğ°Ğ¹Ğ¾Ğ½"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:R.district})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[R.floors&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-1",children:"Ğ­Ñ‚Ğ°Ğ¶ĞµĞ¹"}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:R.floors})]}),R.apartments&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-1",children:"ĞšĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€"}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:R.apartments})]}),R.year_built&&(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-1",children:"Ğ“Ğ¾Ğ´ Ğ¿Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸"}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900",children:R.year_built})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-2",children:"ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ñ‹"}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 space-y-1 text-xs font-mono",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Ğ¨Ğ¸Ñ€Ğ¾Ñ‚Ğ°:"}),(0,t.jsx)("span",{className:"text-gray-900",children:R.latitude.toFixed(6)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Ğ”Ğ¾Ğ»Ğ³Ğ¾Ñ‚Ğ°:"}),(0,t.jsx)("span",{className:"text-gray-900",children:R.longitude.toFixed(6)})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-gray-400 font-medium mb-1",children:"Ğ¢Ğ¸Ğ¿ Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:R.building_type})]}),(0,t.jsx)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(i,{className:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-medium text-orange-900",children:"ĞÑ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ³Ğ°Ğ·Ğ¾ÑĞ½Ğ°Ğ±Ğ¶ĞµĞ½Ğ¸Ğµ"}),(0,t.jsx)("p",{className:"text-[10px] text-orange-700 mt-0.5",children:"Ğ—Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸ Ğ¾Ñ‚Ğ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ñ"})]})]})})]})]})})]})]})})}e.s(["default",()=>v],86810)},4113,e=>{e.v(t=>Promise.all(["static/chunks/36c834c8943dfa8d.js","static/chunks/4314bcd5cfd5b31b.js","static/chunks/98ea4010b5aad3b0.css"].map(t=>e.l(t))).then(()=>t(66148)))}]);