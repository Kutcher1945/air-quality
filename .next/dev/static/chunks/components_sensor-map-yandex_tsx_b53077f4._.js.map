{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/adilannister/admin_related/air-quality-data/components/sensor-map-yandex.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef } from \"react\"\nimport L from \"leaflet\"\nimport \"leaflet/dist/leaflet.css\"\nimport \"leaflet.markercluster/dist/leaflet.markercluster\"\nimport \"leaflet.markercluster/dist/MarkerCluster.css\"\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\"\n\nexport interface SensorMetric {\n  pm25?: number | null\n  no2?: number | null\n  datetime?: string | null\n  interval?: string | null\n}\n\nexport interface Sensor {\n  id: number | string\n  sensor_id: string\n  name?: string | null\n  district?: string | null\n  latitude?: number | null\n  longitude?: number | null\n  is_active?: boolean\n  latest_measurement?: SensorMetric | null\n}\n\ninterface SensorMapProps {\n  sensors: Sensor[]\n}\n\nconst DEFAULT_CENTER: [number, number] = [43.238949, 76.889709] // Almaty\nconst YANDEX_TILE_URL = \"https://core-renderer-tiles.maps.yandex.net/tiles?l=map&x={x}&y={y}&z={z}&lang=ru_RU\"\n\n// Fix Leaflet default marker icon issue\ndelete (L.Icon.Default.prototype as any)._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n})\n\n// Color mapping for different suppliers (Поставщик) - all grey\nconst getSupplierColor = (district?: string | null) => {\n  return \"#6b7280\" // Grey for all markers\n}\n\n// Get PM2.5 quality indicator (for border color or accent)\nconst getPM25Quality = (pm25?: number | null): string => {\n  if (pm25 === null || pm25 === undefined) return \"gray\"\n  if (pm25 <= 15) return \"good\"\n  if (pm25 <= 35) return \"moderate\"\n  if (pm25 <= 55) return \"sensitive\"\n  if (pm25 <= 150) return \"unhealthy\"\n  if (pm25 <= 250) return \"very-unhealthy\"\n  return \"hazardous\"\n}\n\n// Get supplier abbreviation from first letters of each word\nconst getSupplierAbbreviation = (district?: string | null): string => {\n  if (!district) return \"?\"\n\n  // Special cases for known suppliers\n  const specialCases: Record<string, string> = {\n    \"AirGradient\": \"AG\",\n    \"AirKaz\": \"AK\",\n    \"Citizen Science project sensor.community\": \"CS\",\n    \"Clarity Node\": \"CN\",\n    \"IQAir\": \"IQ\",\n    \"OpenAQ\": \"OA\",\n    \"PurpleAir\": \"PA\",\n    \"Reference Site\": \"RS\",\n  }\n\n  // Check for exact match in special cases\n  if (specialCases[district]) return specialCases[district]\n\n  // Check for partial match\n  for (const [key, value] of Object.entries(specialCases)) {\n    if (district.includes(key) || key.includes(district)) {\n      return value\n    }\n  }\n\n  // Generate abbreviation from first letters of each word\n  const words = district.split(/[\\s-]+/).filter(w => w.length > 0)\n\n  if (words.length === 0) return \"?\"\n\n  if (words.length === 1) {\n    // Single word: take first 2-3 letters\n    return words[0].substring(0, 2).toUpperCase()\n  }\n\n  // Multiple words: take first letter of each word (max 3 letters)\n  return words\n    .slice(0, 3)\n    .map(w => w[0])\n    .join(\"\")\n    .toUpperCase()\n}\n\n// Create teardrop marker icon colored by supplier\nconst createSensorIcon = (sensor: Sensor) => {\n  const metric = sensor.latest_measurement\n  const color = getSupplierColor(sensor.district)\n  const abbreviation = getSupplierAbbreviation(sensor.district)\n  const quality = getPM25Quality(metric?.pm25)\n\n  // Border color based on air quality\n  const borderColors: Record<string, string> = {\n    good: \"#1BA97C\",\n    moderate: \"#f59e0b\",\n    sensitive: \"#f97316\",\n    unhealthy: \"#ef4444\",\n    \"very-unhealthy\": \"#a855f7\",\n    hazardous: \"#581c87\",\n    gray: \"#ffffff\",\n  }\n  const borderColor = borderColors[quality] || \"#ffffff\"\n\n  // Adjust font size based on abbreviation length\n  const fontSize = abbreviation.length <= 2 ? \"12px\" : \"10px\"\n\n  return L.divIcon({\n    className: \"custom-sensor-marker-icon\",\n    html: `\n      <div style=\"\n        background-color: ${color};\n        width: 36px;\n        height: 36px;\n        border-radius: 50% 50% 50% 0;\n        transform: rotate(-45deg);\n        border: 3px solid ${borderColor};\n        box-shadow: 0 3px 10px rgba(0,0,0,0.4);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      \">\n        <div style=\"\n          transform: rotate(45deg);\n          color: white;\n          font-size: ${fontSize};\n          font-weight: bold;\n          line-height: 1;\n          text-shadow: 0 1px 2px rgba(0,0,0,0.3);\n          letter-spacing: -0.5px;\n        \">${abbreviation}</div>\n      </div>\n    `,\n    iconSize: [36, 36],\n    iconAnchor: [18, 36],\n    popupAnchor: [0, -36],\n  })\n}\n\nexport default function SensorMapYandex({ sensors }: SensorMapProps) {\n  const mapRef = useRef<HTMLDivElement>(null)\n  const mapInstanceRef = useRef<L.Map | null>(null)\n  const clusterGroupRef = useRef<any>(null)\n  const hasAutoFitted = useRef(false)\n\n  // Filter sensors with valid coordinates\n  const validSensors = sensors.filter(\n    (sensor) => sensor.latitude !== null && sensor.latitude !== undefined &&\n                sensor.longitude !== null && sensor.longitude !== undefined\n  )\n\n  // Initialize map only once\n  useEffect(() => {\n    if (typeof window === \"undefined\" || !mapRef.current || mapInstanceRef.current) return\n\n    // Create Leaflet map with EPSG:3395 CRS for Yandex tiles\n    const map = L.map(mapRef.current, {\n      crs: L.CRS.EPSG3395,\n      center: DEFAULT_CENTER,\n      zoom: 11,\n      preferCanvas: true,\n      zoomAnimation: true,\n    })\n\n    // Add Yandex tiles layer\n    L.tileLayer(YANDEX_TILE_URL, {\n      attribution: '&copy; <a href=\"https://yandex.com/maps/\">Yandex</a>',\n      maxZoom: 18,\n      minZoom: 0,\n    }).addTo(map)\n\n    mapInstanceRef.current = map\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove()\n        mapInstanceRef.current = null\n      }\n    }\n  }, [])\n\n  // Update markers when sensors change\n  useEffect(() => {\n    if (!mapInstanceRef.current || typeof window === \"undefined\") return\n\n    const map = mapInstanceRef.current\n\n    // Clear existing cluster group\n    if (clusterGroupRef.current) {\n      map.removeLayer(clusterGroupRef.current)\n      clusterGroupRef.current = null\n    }\n\n    if (validSensors.length === 0) return\n\n    // Create marker cluster group with custom styling\n    // @ts-ignore markercluster is attached to L by side-effect import\n    const clusterGroup = L.markerClusterGroup({\n      disableClusteringAtZoom: 16,\n      chunkedLoading: true,\n      spiderfyOnMaxZoom: true,\n      showCoverageOnHover: false,\n      maxClusterRadius: 60,\n      removeOutsideVisibleBounds: true,\n      animate: true,\n      animateAddingMarkers: false,\n      iconCreateFunction: function (cluster: any) {\n        const markers = cluster.getAllChildMarkers()\n        const count = markers.length\n\n        // Count sensors by supplier and calculate avg PM2.5\n        const supplierCounts: Record<string, number> = {}\n        let totalPM25 = 0\n        let validPM25Count = 0\n\n        markers.forEach((marker: any) => {\n          const sensor = marker.options.sensorData\n          const supplier = sensor?.district || \"Unknown\"\n          supplierCounts[supplier] = (supplierCounts[supplier] || 0) + 1\n\n          if (sensor?.latest_measurement?.pm25 != null) {\n            totalPM25 += sensor.latest_measurement.pm25\n            validPM25Count++\n          }\n        })\n\n        // Find dominant supplier\n        let dominantSupplier = \"Unknown\"\n        let maxCount = 0\n        for (const [supplier, count] of Object.entries(supplierCounts)) {\n          if (count > maxCount) {\n            dominantSupplier = supplier\n            maxCount = count\n          }\n        }\n\n        const color = getSupplierColor(dominantSupplier)\n        const avgPM25 = validPM25Count > 0 ? totalPM25 / validPM25Count : undefined\n        const quality = getPM25Quality(avgPM25)\n\n        // Border color based on air quality\n        const borderColors: Record<string, string> = {\n          good: \"#1BA97C\",\n          moderate: \"#f59e0b\",\n          sensitive: \"#f97316\",\n          unhealthy: \"#ef4444\",\n          \"very-unhealthy\": \"#a855f7\",\n          hazardous: \"#581c87\",\n          gray: \"#ffffff\",\n        }\n        const borderColor = borderColors[quality] || \"#ffffff\"\n\n        // Size based on count\n        let size = \"small\"\n        if (count >= 50) size = \"large\"\n        else if (count >= 20) size = \"medium\"\n\n        const sizeMap = {\n          small: \"44px\",\n          medium: \"54px\",\n          large: \"64px\",\n        }\n\n        return L.divIcon({\n          html: `\n            <div style=\"\n              background: ${color};\n              width: ${sizeMap[size]};\n              height: ${sizeMap[size]};\n              border-radius: 50%;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              border: 4px solid ${borderColor};\n              box-shadow: 0 4px 12px rgba(0,0,0,0.3);\n              font-weight: bold;\n              color: white;\n              font-size: ${size === \"large\" ? \"20px\" : size === \"medium\" ? \"17px\" : \"15px\"};\n            \">\n              ${count}\n            </div>\n          `,\n          className: \"custom-cluster-icon\",\n          iconSize: L.point(parseInt(sizeMap[size]), parseInt(sizeMap[size])),\n        })\n      },\n    })\n\n    // Add markers to cluster group\n    validSensors.forEach((sensor) => {\n      const icon = createSensorIcon(sensor)\n      const metric = sensor.latest_measurement\n      const supplierColor = getSupplierColor(sensor.district)\n      const quality = getPM25Quality(metric?.pm25)\n\n      // PM2.5 quality colors\n      const qualityColors: Record<string, string> = {\n        good: \"#1BA97C\",\n        moderate: \"#f59e0b\",\n        sensitive: \"#f97316\",\n        unhealthy: \"#ef4444\",\n        \"very-unhealthy\": \"#a855f7\",\n        hazardous: \"#581c87\",\n        gray: \"#6b7280\",\n      }\n      const pm25Color = qualityColors[quality] || \"#6b7280\"\n\n      const marker = L.marker([sensor.latitude!, sensor.longitude!], {\n        icon,\n        sensorData: sensor,\n      } as any).bindPopup(`\n        <div style=\"min-width: 220px; font-family: system-ui;\">\n          <h3 style=\"font-size: 14px; font-weight: bold; margin: 0 0 8px 0; color: #111827;\">\n            ${sensor.name || \"Станция\"}\n          </h3>\n          ${sensor.district ? `\n            <div style=\"margin: 0 0 10px 0; padding: 6px 10px; background: ${supplierColor}15; border-left: 3px solid ${supplierColor}; border-radius: 4px;\">\n              <p style=\"margin: 0; font-size: 11px; color: #6b7280; font-weight: 500;\">Поставщик</p>\n              <p style=\"margin: 2px 0 0 0; font-size: 13px; color: ${supplierColor}; font-weight: bold;\">${sensor.district}</p>\n            </div>\n          ` : \"\"}\n          ${metric && metric.pm25 != null ? `\n            <div style=\"margin: 0 0 8px 0; padding: 6px 10px; background: ${pm25Color}10; border-left: 3px solid ${pm25Color}; border-radius: 4px;\">\n              <p style=\"margin: 0; font-size: 11px; color: #6b7280; font-weight: 500;\">PM2.5</p>\n              <p style=\"margin: 2px 0 0 0; font-size: 16px; color: ${pm25Color}; font-weight: bold;\">${metric.pm25.toFixed(1)}</p>\n            </div>\n          ` : `\n            <p style=\"margin: 0 0 6px 0; color: #9ca3af; font-size: 12px;\">Нет данных PM2.5</p>\n          `}\n          ${metric && metric.no2 != null ? `\n            <p style=\"margin: 0 0 6px 0; font-size: 13px; color: #374151;\">\n              <strong>NO2:</strong> <span style=\"font-weight: 600;\">${metric.no2.toFixed(1)}</span>\n            </p>\n          ` : \"\"}\n          ${metric && metric.datetime ? `\n            <p style=\"margin: 8px 0 0 0; color: #9ca3af; font-size: 11px; padding-top: 6px; border-top: 1px solid #e5e7eb;\">\n              Обновлено: ${new Date(metric.datetime).toLocaleString(\"ru-RU\")}\n            </p>\n          ` : \"\"}\n        </div>\n      `)\n\n      clusterGroup.addLayer(marker)\n    })\n\n    // Add hover tooltips to clusters\n    clusterGroup.on(\"clustermouseover\", function (event: any) {\n      const cluster = event.layer\n      const markers = cluster.getAllChildMarkers()\n\n      let totalPM25 = 0\n      let validCount = 0\n      markers.forEach((marker: any) => {\n        const sensor = marker.options.sensorData\n        if (sensor?.latest_measurement?.pm25 != null) {\n          totalPM25 += sensor.latest_measurement.pm25\n          validCount++\n        }\n      })\n\n      const avgPM25 = validCount > 0 ? (totalPM25 / validCount).toFixed(1) : \"—\"\n\n      const tooltipContent = `\n        <div style=\"padding: 8px; background: white; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.15);\">\n          <p style=\"margin: 0; font-size: 12px; font-weight: bold;\">Кластер: ${markers.length} сенсоров</p>\n          <p style=\"margin: 4px 0 0 0; font-size: 11px; color: #6b7280;\">Средний PM2.5: ${avgPM25}</p>\n        </div>\n      `\n\n      cluster.bindTooltip(tooltipContent, {\n        permanent: false,\n        direction: \"top\",\n        className: \"cluster-tooltip\",\n        offset: [0, -10],\n      }).openTooltip()\n    })\n\n    clusterGroup.on(\"clustermouseout\", function (event: any) {\n      event.layer.closeTooltip()\n    })\n\n    clusterGroup.addTo(map)\n    clusterGroupRef.current = clusterGroup\n\n    // Auto-fit bounds only on first load\n    if (validSensors.length > 0 && !hasAutoFitted.current) {\n      const bounds = L.latLngBounds(validSensors.map((s) => [s.latitude!, s.longitude!]))\n      map.fitBounds(bounds, { padding: [50, 50] })\n      hasAutoFitted.current = true\n    }\n  }, [validSensors])\n\n  if (validSensors.length === 0) {\n    return (\n      <div className=\"flex h-full items-center justify-center rounded-xl border border-dashed border-border bg-muted/40 text-muted-foreground\">\n        Нет данных по сенсорам для отображения\n      </div>\n    )\n  }\n\n  return <div ref={mapRef} className=\"h-full w-full rounded-xl\" />\n}\n"],"names":[],"mappings":"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"}}]
}