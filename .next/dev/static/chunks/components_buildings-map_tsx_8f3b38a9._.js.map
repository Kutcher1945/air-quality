{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/adilannister/admin_related/air-quality-data/components/buildings-map.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef } from \"react\"\nimport L from \"leaflet\"\nimport \"leaflet/dist/leaflet.css\"\nimport \"leaflet.markercluster/dist/leaflet.markercluster\"\nimport \"leaflet.markercluster/dist/MarkerCluster.css\"\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\"\nimport \"leaflet.heat\"\n\ninterface Building {\n  id: string\n  address: string\n  district: string\n  latitude: number\n  longitude: number\n  has_gas: boolean\n  building_type: string\n  building_category: \"general\" | \"izhs\" | \"susn\"\n  geometry?: {\n    type: string\n    coordinates: any\n  } | null\n  floors?: number\n  apartments?: number\n  year_built?: number\n}\n\ninterface RenovationArea {\n  id: number\n  name_ru: string\n  name_kz?: string | null\n  address?: string | null\n  number_of_houses?: number | null\n  number_of_apartments?: number | null\n  plot_area?: string | null\n  photo_url?: string | null\n  geometry?: {\n    type: string\n    coordinates: any\n  } | null\n  created_at: string\n}\n\ninterface BuildingsMapProps {\n  buildings: Building[]\n  renovationAreas?: RenovationArea[]\n  showHeatmap?: boolean\n  showRenovationAreas?: boolean\n  onBuildingClick?: (building: Building) => void\n}\n\n// Fix Leaflet default marker icon issue\ndelete (L.Icon.Default.prototype as any)._getIconUrl\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n})\n\n// Function to create colored marker icons based on building category\nconst createMarkerIcon = (category: \"general\" | \"izhs\" | \"susn\") => {\n  // Different colors for each building type\n  const colors = {\n    general: \"#f97316\", // Orange - General buildings without gas\n    izhs: \"#3b82f6\",    // Blue - Individual housing construction (–ò–ñ–°)\n    susn: \"#ef4444\",    // Red - Multi-family buildings (–°–£–°–ù)\n  }\n\n  const emoji = {\n    general: \"üè†\", // House\n    izhs: \"üè°\",    // House with garden\n    susn: \"üè¢\",    // Office building\n  }\n\n  const color = colors[category]\n  const icon = emoji[category]\n\n  return L.divIcon({\n    className: \"custom-marker\",\n    html: `\n      <div style=\"\n        background-color: ${color};\n        width: 32px;\n        height: 32px;\n        border-radius: 50% 50% 50% 0;\n        transform: rotate(-45deg);\n        border: 3px solid white;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      \">\n        <div style=\"\n          transform: rotate(45deg);\n          color: white;\n          font-size: 18px;\n          font-weight: bold;\n        \">${icon}</div>\n      </div>\n    `,\n    iconSize: [32, 32],\n    iconAnchor: [16, 32],\n    popupAnchor: [0, -32],\n  })\n}\n\nexport default function BuildingsMap({\n  buildings,\n  renovationAreas = [],\n  showHeatmap = false,\n  showRenovationAreas = false,\n  onBuildingClick\n}: BuildingsMapProps) {\n  const mapRef = useRef<HTMLDivElement>(null)\n  const mapInstanceRef = useRef<L.Map | null>(null)\n  const heatLayerRef = useRef<any>(null)\n  const clusterGroupRef = useRef<any>(null)\n  const renovationLayerRef = useRef<L.LayerGroup | null>(null)\n  const onBuildingClickRef = useRef(onBuildingClick)\n  const hasAutoFitted = useRef(false)\n  const canvasRendererRef = useRef<L.Canvas | null>(null)\n\n  // Keep the ref updated with the latest callback\n  useEffect(() => {\n    onBuildingClickRef.current = onBuildingClick\n  }, [onBuildingClick])\n\n  // Initialize map only once\n  useEffect(() => {\n    if (typeof window === \"undefined\" || !mapRef.current || mapInstanceRef.current) return\n\n    // Center of Almaty\n    const mapCenter: [number, number] = [43.238293, 76.945465]\n\n    // Create canvas renderer for better performance with many markers\n    canvasRendererRef.current = L.canvas({ padding: 0.5 })\n\n    // Create Leaflet map with EPSG:3395 CRS for Yandex tiles\n    const map = L.map(mapRef.current, {\n      crs: L.CRS.EPSG3395, // Yandex uses Mercator projection (EPSG:3395)\n      center: mapCenter,\n      zoom: 11,\n      preferCanvas: true, // Use canvas for better performance\n      renderer: canvasRendererRef.current,\n      zoomAnimation: true,\n      markerZoomAnimation: true,\n      fadeAnimation: true,\n      // Performance optimizations\n      wheelDebounceTime: 40,\n      wheelPxPerZoomLevel: 60,\n    })\n\n    // Add Yandex tiles layer (no API key needed!)\n    L.tileLayer(\"https://core-renderer-tiles.maps.yandex.net/tiles?l=map&x={x}&y={y}&z={z}&lang=ru_RU\", {\n      attribution: '&copy; <a href=\"https://yandex.com/maps/\">Yandex</a>',\n      maxZoom: 18,\n      minZoom: 0,\n      updateWhenIdle: false, // Update tiles during movement for smoother experience\n      updateWhenZooming: false, // Don't update while zooming\n      keepBuffer: 2, // Keep more tiles in buffer for smooth panning\n    }).addTo(map)\n\n    mapInstanceRef.current = map\n\n    return () => {\n      if (mapInstanceRef.current) {\n        mapInstanceRef.current.remove()\n        mapInstanceRef.current = null\n      }\n    }\n  }, [])\n\n  // Update markers and layers when buildings or showHeatmap changes\n  useEffect(() => {\n    if (!mapInstanceRef.current || typeof window === \"undefined\") return\n\n    const map = mapInstanceRef.current\n\n    // Clear existing layers\n    if (heatLayerRef.current) {\n      map.removeLayer(heatLayerRef.current)\n      heatLayerRef.current = null\n    }\n    if (clusterGroupRef.current) {\n      map.removeLayer(clusterGroupRef.current)\n      clusterGroupRef.current = null\n    }\n    if (renovationLayerRef.current) {\n      map.removeLayer(renovationLayerRef.current)\n      renovationLayerRef.current = null\n    }\n\n    if (showHeatmap) {\n      // Create heatmap layer\n      const heatData: [number, number, number][] = buildings.map((building) => [\n        building.latitude,\n        building.longitude,\n        0.8, // intensity\n      ])\n\n      // @ts-ignore leaflet.heat is attached to L by side-effect import\n      const heatLayer = L.heatLayer(heatData, {\n        radius: 25,\n        blur: 15,\n        minOpacity: 0.5,\n        max: 1.0,\n        gradient: {\n          0.0: \"#3b82f6\", // Blue (low density)\n          0.4: \"#10b981\", // Green\n          0.6: \"#fbbf24\", // Yellow\n          0.8: \"#f97316\", // Orange\n          1.0: \"#ef4444\", // Red (high density)\n        },\n      }).addTo(map)\n\n      heatLayerRef.current = heatLayer\n    } else {\n      // Cluster markers for performance on large datasets\n      // @ts-ignore markercluster is attached to L by side-effect import\n      const clusterGroup = L.markerClusterGroup({\n        disableClusteringAtZoom: 17, // Increased to 17 - keeps clustering longer for better performance\n        chunkedLoading: true,\n        chunkInterval: 200, // Faster chunk processing\n        chunkDelay: 50, // Less delay between chunks\n        maxClusterRadius: 60, // Increased radius for better grouping\n        spiderfyOnMaxZoom: true,\n        showCoverageOnHover: false, // Disable coverage on hover - improves performance\n        spiderfyDistanceMultiplier: 2, // Spread out spiderfied markers more\n        removeOutsideVisibleBounds: true, // Remove markers outside viewport for performance\n        animate: true, // Smooth animations\n        animateAddingMarkers: false, // Disable animation when adding markers for speed\n        iconCreateFunction: function (cluster: any) {\n          const markers = cluster.getAllChildMarkers()\n          const count = markers.length\n\n          // Count buildings by category\n          const categories = { general: 0, izhs: 0, susn: 0 }\n          markers.forEach((marker: any) => {\n            const building = marker.options.buildingData\n            if (building && building.building_category) {\n              const cat = building.building_category as keyof typeof categories\n              categories[cat]++\n            }\n          })\n\n          // Determine dominant category\n          let dominantCategory: \"general\" | \"izhs\" | \"susn\" = \"general\"\n          let maxCount = categories.general\n          if (categories.izhs > maxCount) {\n            dominantCategory = \"izhs\"\n            maxCount = categories.izhs\n          }\n          if (categories.susn > maxCount) {\n            dominantCategory = \"susn\"\n          }\n\n          // Color based on dominant category\n          const colors = {\n            general: \"#f97316\", // Orange\n            izhs: \"#3b82f6\",    // Blue\n            susn: \"#ef4444\",    // Red\n          }\n          const color = colors[dominantCategory]\n\n          // Size based on count\n          let size: \"small\" | \"medium\" | \"large\" = \"small\"\n          if (count >= 100) size = \"large\"\n          else if (count >= 50) size = \"medium\"\n\n          const sizeMap = {\n            small: \"40px\",\n            medium: \"50px\",\n            large: \"60px\",\n          }\n\n          return L.divIcon({\n            html: `\n              <div style=\"\n                background: ${color};\n                width: ${sizeMap[size]};\n                height: ${sizeMap[size]};\n                border-radius: 50%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                border: 4px solid white;\n                box-shadow: 0 4px 12px rgba(0,0,0,0.25);\n                font-weight: bold;\n                color: white;\n                font-size: ${size === \"large\" ? \"18px\" : size === \"medium\" ? \"16px\" : \"14px\"};\n              \">\n                ${count}\n              </div>\n              <div style=\"\n                position: absolute;\n                bottom: -20px;\n                left: 50%;\n                transform: translateX(-50%);\n                background: rgba(0,0,0,0.7);\n                color: white;\n                padding: 2px 6px;\n                border-radius: 10px;\n                font-size: 9px;\n                white-space: nowrap;\n                display: none;\n              \" class=\"cluster-label\">\n                ${categories.general > 0 ? `üè†${categories.general}` : \"\"}\n                ${categories.izhs > 0 ? `üè°${categories.izhs}` : \"\"}\n                ${categories.susn > 0 ? `üè¢${categories.susn}` : \"\"}\n              </div>\n            `,\n            className: \"custom-cluster-icon\",\n            iconSize: L.point(parseInt(sizeMap[size]), parseInt(sizeMap[size])),\n          })\n        },\n      })\n\n      console.log(`üó∫Ô∏è Creating markers for ${buildings.length} buildings`)\n\n      let markersCreated = 0\n      buildings.forEach((building) => {\n        // Use different colored icon based on building category\n        const icon = createMarkerIcon(building.building_category)\n\n        const marker = L.marker([building.latitude, building.longitude], {\n          icon,\n          buildingData: building // Store building data for cluster calculations\n        } as any).bindPopup(\n          `\n          <div style=\"padding: 8px; min-width: 200px;\">\n            <strong style=\"font-size: 14px;\">${building.address}</strong>\n            <hr style=\"margin: 8px 0; border: none; border-top: 1px solid #e5e7eb;\">\n            <p style=\"margin: 4px 0; font-size: 12px;\"><strong>–†–∞–π–æ–Ω:</strong> ${building.district}</p>\n            <p style=\"margin: 4px 0; font-size: 12px;\"><strong>–¢–∏–ø:</strong> ${building.building_type}</p>\n            ${building.floors ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–≠—Ç–∞–∂–µ–π:</strong> ${building.floors}</p>` : \"\"}\n            ${building.apartments ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–ö–≤–∞—Ä—Ç–∏—Ä:</strong> ${building.apartments}</p>` : \"\"}\n            ${building.year_built ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏:</strong> ${building.year_built}</p>` : \"\"}\n            <p style=\"margin: 8px 0 4px; color: #f97316; font-weight: bold; font-size: 12px;\">‚ö†Ô∏è –ë–µ–∑ –≥–∞–∑–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è</p>\n          </div>\n        `,\n        )\n\n        // Add click event to open side panel\n        marker.on(\"click\", () => {\n          if (onBuildingClickRef.current) {\n            onBuildingClickRef.current(building)\n          }\n        })\n\n        clusterGroup.addLayer(marker)\n        markersCreated++\n\n        // Draw polygons only at high zoom for performance (zoom 16+)\n        // Commented out to improve performance\n        /* if (building.geometry && building.geometry.type === \"MultiPolygon\" && map.getZoom() >= 16) {\n          const latLngPolys: L.LatLngExpression[][] = []\n          building.geometry.coordinates.forEach((poly: any) => {\n            const ring = poly[0]\n            const latLngs = ring.map((coord: [number, number]) => [coord[1], coord[0]])\n            latLngPolys.push(latLngs)\n          })\n          const htmlString = typeof icon.options.html === \"string\" ? icon.options.html : \"\"\n\n          // Determine color based on building category\n          const polygonColor = htmlString.includes(\"#3b82f6\")\n            ? \"#3b82f6\"\n            : htmlString.includes(\"#ef4444\")\n              ? \"#ef4444\"\n              : \"#f97316\"\n\n          L.polygon(latLngPolys, {\n            color: polygonColor,\n            weight: 1,\n            fillOpacity: 0.15,\n            renderer: canvasRendererRef.current || undefined, // Use canvas renderer for better performance\n            interactive: false, // Disable interaction to improve performance\n            smoothFactor: 2, // Simplify polygon for performance\n          }).addTo(map)\n        } */\n      })\n\n      // Add hover tooltip to clusters to show statistics\n      clusterGroup.on(\"clustermouseover\", function (event: any) {\n        const cluster = event.layer\n        const markers = cluster.getAllChildMarkers()\n\n        // Count buildings by category\n        const categories = { general: 0, izhs: 0, susn: 0 }\n        markers.forEach((marker: any) => {\n          const building = marker.options.buildingData\n          if (building && building.building_category) {\n            const cat = building.building_category as keyof typeof categories\n            categories[cat]++\n          }\n        })\n\n        const tooltipContent = `\n          <div style=\"padding: 10px; min-width: 180px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);\">\n            <h3 style=\"font-size: 13px; font-weight: bold; margin-bottom: 8px; color: #111827;\">\n              –ö–ª–∞—Å—Ç–µ—Ä: ${markers.length} –∑–¥–∞–Ω–∏–π\n            </h3>\n            <div style=\"display: flex; flex-direction: column; gap: 6px;\">\n              ${categories.general > 0 ? `\n                <div style=\"display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; background: #fff7ed; border-left: 3px solid #f97316; border-radius: 4px;\">\n                  <span style=\"font-size: 11px; color: #9a3412;\">üè† ALSECO</span>\n                  <span style=\"font-size: 13px; font-weight: bold; color: #f97316;\">${categories.general}</span>\n                </div>\n              ` : \"\"}\n              ${categories.izhs > 0 ? `\n                <div style=\"display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; background: #eff6ff; border-left: 3px solid #3b82f6; border-radius: 4px;\">\n                  <span style=\"font-size: 11px; color: #1e3a8a;\">üè° –î–∞–Ω–Ω—ã–µ –†–∞–π–æ–Ω–Ω—ã—Ö –∞–∫–∏–º–∞—Ç–æ–≤</span>\n                  <span style=\"font-size: 13px; font-weight: bold; color: #3b82f6;\">${categories.izhs}</span>\n                </div>\n              ` : \"\"}\n              ${categories.susn > 0 ? `\n                <div style=\"display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; background: #fef2f2; border-left: 3px solid #ef4444; border-radius: 4px;\">\n                  <span style=\"font-size: 11px; color: #7f1d1d;\">üè¢ –î–∞–Ω–Ω—ã–µ –î–ß–°</span>\n                  <span style=\"font-size: 13px; font-weight: bold; color: #ef4444;\">${categories.susn}</span>\n                </div>\n              ` : \"\"}\n            </div>\n            <p style=\"margin-top: 8px; font-size: 9px; color: #6b7280; text-align: center;\">\n              –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è\n            </p>\n          </div>\n        `\n\n        cluster.bindTooltip(tooltipContent, {\n          permanent: false,\n          direction: \"top\",\n          className: \"cluster-tooltip\",\n          offset: [0, -10],\n        }).openTooltip()\n      })\n\n      clusterGroup.on(\"clustermouseout\", function (event: any) {\n        const cluster = event.layer\n        cluster.closeTooltip()\n      })\n\n      // Click cluster to zoom in\n      clusterGroup.on(\"clusterclick\", function (event: any) {\n        const cluster = event.layer\n        cluster.zoomToBounds({ padding: [50, 50] })\n      })\n\n      clusterGroup.addTo(map)\n      clusterGroupRef.current = clusterGroup\n\n      console.log(`‚úÖ Successfully created ${markersCreated} markers on the map`)\n    }\n\n    // Render renovation areas if enabled\n    if (showRenovationAreas && renovationAreas.length > 0) {\n      const renovationLayer = L.layerGroup()\n\n      renovationAreas.forEach((area) => {\n        if (area.geometry && area.geometry.type === \"MultiPolygon\") {\n          const coordinates = area.geometry.coordinates\n\n          // Convert MultiPolygon coordinates to Leaflet format\n          const latLngPolys: L.LatLngExpression[][] = []\n          coordinates.forEach((polygon: any) => {\n            polygon.forEach((ring: any) => {\n              const latLngs = ring.map((coord: [number, number]) => [coord[1], coord[0]])\n              latLngPolys.push(latLngs)\n            })\n          })\n\n          // Create polygon with styling\n          const renovationPolygon = L.polygon(latLngPolys, {\n            color: \"#8b5cf6\", // Purple color for renovation areas\n            weight: 2,\n            fillOpacity: 0.2,\n            fillColor: \"#8b5cf6\",\n            renderer: canvasRendererRef.current || undefined,\n          })\n\n          // Add popup with renovation area information\n          const popupContent = `\n            <div style=\"padding: 8px; min-width: 200px;\">\n              <strong style=\"font-size: 14px; color: #8b5cf6;\">üèóÔ∏è ${area.name_ru}</strong>\n              <hr style=\"margin: 8px 0; border: none; border-top: 1px solid #e5e7eb;\">\n              ${area.address ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–ê–¥—Ä–µ—Å:</strong> ${area.address}</p>` : \"\"}\n              ${area.number_of_houses ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–º–æ–≤:</strong> ${area.number_of_houses}</p>` : \"\"}\n              ${area.number_of_apartments ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–≤–∞—Ä—Ç–∏—Ä:</strong> ${area.number_of_apartments}</p>` : \"\"}\n              ${area.plot_area ? `<p style=\"margin: 4px 0; font-size: 12px;\"><strong>–ü–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞:</strong> ${area.plot_area}</p>` : \"\"}\n              ${area.photo_url ? `<img src=\"${area.photo_url}\" alt=\"${area.name_ru}\" style=\"width: 100%; margin-top: 8px; border-radius: 4px;\" />` : \"\"}\n            </div>\n          `\n          renovationPolygon.bindPopup(popupContent)\n\n          renovationLayer.addLayer(renovationPolygon)\n        }\n      })\n\n      renovationLayer.addTo(map)\n      renovationLayerRef.current = renovationLayer\n\n      console.log(`‚úÖ Successfully rendered ${renovationAreas.length} renovation areas`)\n    }\n\n    // Auto-fit bounds only on first load, not on subsequent re-renders\n    if (buildings.length > 0 && !hasAutoFitted.current) {\n      const bounds = L.latLngBounds(buildings.map((b) => [b.latitude, b.longitude]))\n      map.fitBounds(bounds, { padding: [50, 50] })\n      hasAutoFitted.current = true\n    }\n  }, [buildings, showHeatmap, showRenovationAreas, renovationAreas])\n\n  return <div ref={mapRef} className=\"h-full w-full\" />\n}\n"],"names":[],"mappings":"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"}}]
}