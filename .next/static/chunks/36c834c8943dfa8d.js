(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,i)=>{},98547,(e,t,i)=>{var n=e.i(47167);e.r(16015);var r=e.r(71645),s=r&&"object"==typeof r&&"default"in r?r:{default:r},o=void 0!==n.default&&n.default.env&&!0,a=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,i=t.name,n=void 0===i?"stylesheet":i,r=t.optimizeForSpeed,s=void 0===r?o:r;d(a(n),"`name` must be a string"),this._name=n,this._deletedRulePlaceholder="#"+n+"-deleted-rule____{}",d("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,i=e.prototype;return i.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},i.isOptimizeForSpeed=function(){return this._optimizeForSpeed},i.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,i){return"number"==typeof i?e._serverSheet.cssRules[i]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),i},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},i.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},i.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},i.insertRule=function(e,t){if(d(a(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var i=this.getSheet();"number"!=typeof t&&(t=i.cssRules.length);try{i.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var n=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,n))}return this._rulesCount++},i.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var i="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!i.cssRules[e])return e;i.deleteRule(e);try{i.insertRule(t,e)}catch(n){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),i.insertRule(this._deletedRulePlaceholder,e)}}else{var n=this._tags[e];d(n,"old rule at index `"+e+"` not found"),n.textContent=t}return e},i.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},i.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},i.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,i){return i?t=t.concat(Array.prototype.map.call(e.getSheetForTag(i).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},i.makeStyleTag=function(e,t,i){t&&d(a(t),"makeStyleTag accepts only strings as second parameter");var n=document.createElement("style");this._nonce&&n.setAttribute("nonce",this._nonce),n.type="text/css",n.setAttribute("data-"+e,""),t&&n.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return i?r.insertBefore(n,i):r.appendChild(n),n},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},h={};function c(e,t){if(!t)return"jsx-"+e;var i=String(t),n=e+i;return h[n]||(h[n]="jsx-"+u(e+"-"+i)),h[n]}function p(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var i=e+t;return h[i]||(h[i]=t.replace(/__jsx-style-dynamic-selector/g,e)),h[i]}var f=function(){function e(e){var t=void 0===e?{}:e,i=t.styleSheet,n=void 0===i?null:i,r=t.optimizeForSpeed,s=void 0!==r&&r;this._sheet=n||new l({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),n&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var i=this.getIdAndRules(e),n=i.styleId,r=i.rules;if(n in this._instancesCounts){this._instancesCounts[n]+=1;return}var s=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[n]=s,this._instancesCounts[n]=1},t.remove=function(e){var t=this,i=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(i in this._instancesCounts,"styleId: `"+i+"` not found"),this._instancesCounts[i]-=1,this._instancesCounts[i]<1){var n=this._fromServer&&this._fromServer[i];n?(n.parentNode.removeChild(n),delete this._fromServer[i]):(this._indices[i].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[i]),delete this._instancesCounts[i]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],i=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return i[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,i;return t=this.cssRules(),void 0===(i=e)&&(i={}),t.map(function(e){var t=e[0],n=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:i.nonce?i.nonce:void 0,dangerouslySetInnerHTML:{__html:n}})})},t.getIdAndRules=function(e){var t=e.children,i=e.dynamic,n=e.id;if(i){var r=c(n,i);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return p(r,e)}):[p(r,t)]}}return{styleId:c(n),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),m=r.createContext(null);function g(){return new f}function y(){return r.useContext(m)}m.displayName="StyleSheetContext";var _=s.default.useInsertionEffect||s.default.useLayoutEffect,v="undefined"!=typeof window?g():void 0;function x(e){var t=v||y();return t&&("undefined"==typeof window?t.add(e):_(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}x.dynamic=function(e){return e.map(function(e){return c(e[0],e[1])}).join(" ")},i.StyleRegistry=function(e){var t=e.registry,i=e.children,n=r.useContext(m),o=r.useState(function(){return n||t||g()})[0];return s.default.createElement(m.Provider,{value:o},i)},i.createStyleRegistry=g,i.style=x,i.useStyleRegistry=y},37902,(e,t,i)=>{t.exports=e.r(98547).style},71434,(e,t,i)=>{!function(){"use strict";function e(t){return this instanceof e?(this._canvas=t="string"==typeof t?document.getElementById(t):t,this._ctx=t.getContext("2d"),this._width=t.width,this._height=t.height,this._max=1,void this.clear()):new e(t)}e.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(e,t){return this._data=e,this},max:function(e){return this._max=e,this},add:function(e){return this._data.push(e),this},clear:function(){return this._data=[],this},radius:function(e,t){t=t||15;var i=this._circle=document.createElement("canvas"),n=i.getContext("2d"),r=this._r=e+t;return i.width=i.height=2*r,n.shadowOffsetX=n.shadowOffsetY=200,n.shadowBlur=t,n.shadowColor="black",n.beginPath(),n.arc(r-200,r-200,e,0,2*Math.PI,!0),n.closePath(),n.fill(),this},gradient:function(e){var t=document.createElement("canvas"),i=t.getContext("2d"),n=i.createLinearGradient(0,0,0,256);for(var r in t.width=1,t.height=256,e)n.addColorStop(r,e[r]);return i.fillStyle=n,i.fillRect(0,0,1,256),this._grad=i.getImageData(0,0,1,256).data,this},draw:function(e){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var t=this._ctx;t.clearRect(0,0,this._width,this._height);for(var i,n=0,r=this._data.length;r>n;n++)t.globalAlpha=Math.max((i=this._data[n])[2]/this._max,e||.05),t.drawImage(this._circle,i[0]-this._r,i[1]-this._r);var s=t.getImageData(0,0,this._width,this._height);return this._colorize(s.data,this._grad),t.putImageData(s,0,0),this},_colorize:function(e,t){for(var i,n=3,r=e.length;r>n;n+=4)(i=4*e[n])&&(e[n-3]=t[i],e[n-2]=t[i+1],e[n-1]=t[i+2])}},window.simpleheat=e}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(e,t){this._latlngs=e,L.setOptions(this,t)},setLatLngs:function(e){return this._latlngs=e,this.redraw()},addLatLng:function(e){return this._latlngs.push(e),this.redraw()},setOptions:function(e){return L.setOptions(this,e),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(e){this._map=e,this._canvas||this._initCanvas(),e._panes.overlayPane.appendChild(this._canvas),e.on("moveend",this._reset,this),e.options.zoomAnimation&&L.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._canvas),e.off("moveend",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},_initCanvas:function(){var e=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),t=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);e.style[t]="50% 50%";var i=this._map.getSize();e.width=i.x,e.height=i.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(e,"leaflet-zoom-"+(n?"animated":"hide")),this._heat=simpleheat(e),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,e);var t=this._map.getSize();this._heat._width!==t.x&&(this._canvas.width=this._heat._width=t.x),this._heat._height!==t.y&&(this._canvas.height=this._heat._height=t.y),this._redraw()},_redraw:function(){var e,t,i,n,r,s,o,a,l,d=[],u=this._heat._r,h=this._map.getSize(),c=new L.Bounds(L.point([-u,-u]),h.add([u,u])),p=void 0===this.options.max?1:this.options.max,f=1/Math.pow(2,Math.max(0,Math.min((void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom)-this._map.getZoom(),12))),m=u/2,g=[],y=this._map._getMapPanePos(),_=y.x%m,v=y.y%m;for(e=0,t=this._latlngs.length;t>e;e++)i=this._map.latLngToContainerPoint(this._latlngs[e]),c.contains(i)&&(r=Math.floor((i.x-_)/m)+2,s=Math.floor((i.y-v)/m)+2,l=(void 0!==this._latlngs[e].alt?this._latlngs[e].alt:void 0!==this._latlngs[e][2]?+this._latlngs[e][2]:1)*f,g[s]=g[s]||[],(n=g[s][r])?(n[0]=(n[0]*n[2]+i.x*l)/(n[2]+l),n[1]=(n[1]*n[2]+i.y*l)/(n[2]+l),n[2]+=l):g[s][r]=[i.x,i.y,l]);for(e=0,t=g.length;t>e;e++)if(g[e])for(o=0,a=g[e].length;a>o;o++)(n=g[e][o])&&d.push([Math.round(n[0]),Math.round(n[1]),Math.min(n[2],p)]);this._heat.data(d).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._getCenterOffset(e.center)._multiplyBy(-t).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,i,t):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(i)+" scale("+t+")"}}),L.heatLayer=function(e,t){return new L.HeatLayer(e,t)}},85071,e=>{"use strict";var t=e.i(43476),i=e.i(37902),n=e.i(71645),r=e.i(32322);function s({buildings:e,renovationAreas:s=[],districts:o=[],selectedDistrictId:a=null,showHeatmap:l=!1,showRenovationAreas:d=!1,onBuildingClick:u}){let h=(0,n.useRef)(null),c=(0,n.useRef)(null),p=(0,n.useRef)(null),f=(0,n.useRef)(null),m=(0,n.useRef)(null),g=(0,n.useRef)(null),y=(0,n.useRef)(u),_=(0,n.useRef)(!1),v=(0,n.useRef)(null);return(0,n.useEffect)(()=>{y.current=u},[u]),(0,n.useEffect)(()=>{if(!h.current||c.current)return;v.current=r.default.canvas({padding:.5});let e=r.default.map(h.current,{crs:r.default.CRS.EPSG3395,center:[43.238293,76.945465],zoom:11,preferCanvas:!0,renderer:v.current,zoomAnimation:!0,markerZoomAnimation:!0,fadeAnimation:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});return r.default.tileLayer("https://core-renderer-tiles.maps.yandex.net/tiles?l=map&x={x}&y={y}&z={z}&lang=ru_RU",{attribution:'&copy; <a href="https://yandex.com/maps/">Yandex</a>',maxZoom:21,minZoom:0,updateWhenIdle:!1,updateWhenZooming:!1,keepBuffer:2}).addTo(e),c.current=e,()=>{c.current&&(c.current.remove(),c.current=null)}},[]),(0,n.useEffect)(()=>{if(!c.current)return;let t=c.current;if(p.current&&(t.removeLayer(p.current),p.current=null),f.current&&(t.removeLayer(f.current),f.current=null),m.current&&(t.removeLayer(m.current),m.current=null),g.current&&(t.removeLayer(g.current),g.current=null),l){let i=e.map(e=>[e.latitude,e.longitude,.8]);p.current=r.default.heatLayer(i,{radius:25,blur:15,minOpacity:.5,max:1,gradient:{0:"#3b82f6",.4:"#10b981",.6:"#fbbf24",.8:"#f97316",1:"#ef4444"}}).addTo(t)}else{let i=r.default.markerClusterGroup({disableClusteringAtZoom:17,chunkedLoading:!0,chunkInterval:200,chunkDelay:50,maxClusterRadius:60,spiderfyOnMaxZoom:!0,showCoverageOnHover:!1,spiderfyDistanceMultiplier:2,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,iconCreateFunction:function(e){let t=e.getAllChildMarkers(),i=t.length,n={general:0,izhs:0,susn:0};t.forEach(e=>{let t=e.options.buildingData;if(t&&t.building_category){let e=t.building_category;n[e]++}});let s="general",o=n.general;n.izhs>o&&(s="izhs",o=n.izhs),n.susn>o&&(s="susn");let a={general:"#f97316",izhs:"#3b82f6",susn:"#ef4444"}[s],l="small";i>=100?l="large":i>=50&&(l="medium");let d={small:"40px",medium:"50px",large:"60px"};return r.default.divIcon({html:`
              <div style="
                background: ${a};
                width: ${d[l]};
                height: ${d[l]};
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                border: 4px solid white;
                box-shadow: 0 4px 12px rgba(0,0,0,0.25);
                font-weight: bold;
                color: white;
                font-size: ${"large"===l?"18px":"medium"===l?"16px":"14px"};
                opacity: 0.85;
                backdrop-filter: blur(2px);
                transition: opacity 0.2s ease;
              ">
                ${i}
              </div>
              <div style="
                position: absolute;
                bottom: -20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.7);
                color: white;
                padding: 2px 6px;
                border-radius: 10px;
                font-size: 9px;
                white-space: nowrap;
                display: none;
              " class="cluster-label">
                ${n.general>0?`üè†${n.general}`:""}
                ${n.izhs>0?`üè°${n.izhs}`:""}
                ${n.susn>0?`üè¢${n.susn}`:""}
              </div>
            `,className:"custom-cluster-icon",iconSize:r.default.point(parseInt(d[l]),parseInt(d[l]))})}});console.log(`üó∫Ô∏è Creating markers for ${e.length} buildings`);let n=0;e.forEach(e=>{var t;let s=(t=e.building_category,r.default.divIcon({className:"custom-marker",html:`
      <div style="
        background-color: ${{general:"#f97316",izhs:"#3b82f6",susn:"#ef4444"}[t]};
        width: 32px;
        height: 32px;
        border-radius: 50% 50% 50% 0;
        transform: rotate(-45deg);
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0.85;
        backdrop-filter: blur(2px);
        transition: opacity 0.2s ease;
      ">
        <div style="
          transform: rotate(45deg);
          color: white;
          font-size: 18px;
          font-weight: bold;
        ">${{general:"üè†",izhs:"üè°",susn:"üè¢"}[t]}</div>
      </div>
    `,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]})),o=r.default.marker([e.latitude,e.longitude],{icon:s,buildingData:e}).bindPopup(`
          <div style="padding: 8px; min-width: 200px;">
            <strong style="font-size: 14px;">${e.address}</strong>
            <hr style="margin: 8px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="margin: 4px 0; font-size: 12px;"><strong>–†–∞–π–æ–Ω:</strong> ${e.district}</p>
            <p style="margin: 4px 0; font-size: 12px;"><strong>–¢–∏–ø:</strong> ${e.building_type}</p>
            ${e.floors?`<p style="margin: 4px 0; font-size: 12px;"><strong>–≠—Ç–∞–∂–µ–π:</strong> ${e.floors}</p>`:""}
            ${e.apartments?`<p style="margin: 4px 0; font-size: 12px;"><strong>–ö–≤–∞—Ä—Ç–∏—Ä:</strong> ${e.apartments}</p>`:""}
            ${e.year_built?`<p style="margin: 4px 0; font-size: 12px;"><strong>–ì–æ–¥ –ø–æ—Å—Ç—Ä–æ–π–∫–∏:</strong> ${e.year_built}</p>`:""}
            <p style="margin: 8px 0 4px; color: #f97316; font-weight: bold; font-size: 12px;">‚ö†Ô∏è –ë–µ–∑ –≥–∞–∑–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è</p>
          </div>
        `);o.on("click",()=>{y.current&&y.current(e)}),i.addLayer(o),n++}),i.on("clustermouseover",function(e){let t=e.layer,i=t.getAllChildMarkers(),n={general:0,izhs:0,susn:0};i.forEach(e=>{let t=e.options.buildingData;if(t&&t.building_category){let e=t.building_category;n[e]++}});let r=`
          <div style="padding: 10px; min-width: 180px; background: white; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
            <h3 style="font-size: 13px; font-weight: bold; margin-bottom: 8px; color: #111827;">
              –ö–ª–∞—Å—Ç–µ—Ä: ${i.length} –∑–¥–∞–Ω–∏–π
            </h3>
            <div style="display: flex; flex-direction: column; gap: 6px;">
              ${n.general>0?`
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; background: #fff7ed; border-left: 3px solid #f97316; border-radius: 4px;">
                  <span style="font-size: 11px; color: #9a3412;">üè† ALSECO</span>
                  <span style="font-size: 13px; font-weight: bold; color: #f97316;">${n.general}</span>
                </div>
              `:""}
              ${n.izhs>0?`
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; background: #eff6ff; border-left: 3px solid #3b82f6; border-radius: 4px;">
                  <span style="font-size: 11px; color: #1e3a8a;">üè° –î–∞–Ω–Ω—ã–µ –†–∞–π–æ–Ω–Ω—ã—Ö –∞–∫–∏–º–∞—Ç–æ–≤</span>
                  <span style="font-size: 13px; font-weight: bold; color: #3b82f6;">${n.izhs}</span>
                </div>
              `:""}
              ${n.susn>0?`
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 4px 8px; background: #fef2f2; border-left: 3px solid #ef4444; border-radius: 4px;">
                  <span style="font-size: 11px; color: #7f1d1d;">üè¢ –î–∞–Ω–Ω—ã–µ –î–ß–°</span>
                  <span style="font-size: 13px; font-weight: bold; color: #ef4444;">${n.susn}</span>
                </div>
              `:""}
            </div>
            <p style="margin-top: 8px; font-size: 9px; color: #6b7280; text-align: center;">
              –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è
            </p>
          </div>
        `;t.bindTooltip(r,{permanent:!1,direction:"top",className:"cluster-tooltip",offset:[0,-10]}).openTooltip()}),i.on("clustermouseout",function(e){e.layer.closeTooltip()}),i.on("clusterclick",function(e){e.layer.zoomToBounds({padding:[50,50]})}),i.addTo(t),f.current=i,console.log(`‚úÖ Successfully created ${n} markers on the map`)}if(o.length>0){let e=r.default.layerGroup(),i=null!==a?o.filter(e=>e.id===a):o,n=null;i.forEach(t=>{if(t.geometry&&("Polygon"===t.geometry.type||"MultiPolygon"===t.geometry.type)){let i=t.geometry.coordinates,s=t.id===a;if("Polygon"===t.geometry.type){let o=i[0].map(e=>[e[1],e[0]]),a=r.default.polygon([o],{color:s?"#3b82f6":"#64748b",weight:s?3:2,fillOpacity:s?.15:.05,fillColor:s?"#3b82f6":"#94a3b8",renderer:v.current||void 0}),l=`
              <div style="padding: 8px; min-width: 150px;">
                <strong style="font-size: 14px; color: ${s?"#3b82f6":"#64748b"};">üìç ${t.name}</strong>
              </div>
            `;a.bindPopup(l),e.addLayer(a),s&&(n=a.getBounds())}else if("MultiPolygon"===t.geometry.type){let o=[];i.forEach(e=>{e.forEach(e=>{let t=e.map(e=>[e[1],e[0]]);o.push(t)})});let a=r.default.polygon(o,{color:s?"#3b82f6":"#64748b",weight:s?3:2,fillOpacity:s?.15:.05,fillColor:s?"#3b82f6":"#94a3b8",renderer:v.current||void 0}),l=`
              <div style="padding: 8px; min-width: 150px;">
                <strong style="font-size: 14px; color: ${s?"#3b82f6":"#64748b"};">üìç ${t.name}</strong>
              </div>
            `;a.bindPopup(l),e.addLayer(a),s&&(n=a.getBounds())}}}),e.addTo(t),m.current=e,null!==a&&n&&(t.fitBounds(n,{padding:[50,50],maxZoom:14}),console.log(`üéØ Zoomed to district ID ${a}`)),console.log(`‚úÖ Successfully rendered ${i.length} district polygon(s)`)}if(d&&s.length>0){let e=r.default.layerGroup();s.forEach(t=>{if(t.geometry&&"MultiPolygon"===t.geometry.type){let i=t.geometry.coordinates,n=[];i.forEach(e=>{e.forEach(e=>{let t=e.map(e=>[e[1],e[0]]);n.push(t)})});let s=r.default.polygon(n,{color:"#8b5cf6",weight:2,fillOpacity:.2,fillColor:"#8b5cf6",renderer:v.current||void 0}),o=`
            <div style="padding: 8px; min-width: 200px;">
              <strong style="font-size: 14px; color: #8b5cf6;">üèóÔ∏è ${t.name_ru}</strong>
              <hr style="margin: 8px 0; border: none; border-top: 1px solid #e5e7eb;">
              ${t.address?`<p style="margin: 4px 0; font-size: 12px;"><strong>–ê–¥—Ä–µ—Å:</strong> ${t.address}</p>`:""}
              ${t.number_of_houses?`<p style="margin: 4px 0; font-size: 12px;"><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–º–æ–≤:</strong> ${t.number_of_houses}</p>`:""}
              ${t.number_of_apartments?`<p style="margin: 4px 0; font-size: 12px;"><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–≤–∞—Ä—Ç–∏—Ä:</strong> ${t.number_of_apartments}</p>`:""}
              ${t.plot_area?`<p style="margin: 4px 0; font-size: 12px;"><strong>–ü–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞:</strong> ${t.plot_area}</p>`:""}
              ${t.photo_url?`<img src="${t.photo_url}" alt="${t.name_ru}" style="width: 100%; margin-top: 8px; border-radius: 4px;" />`:""}
            </div>
          `;s.bindPopup(o),e.addLayer(s)}}),e.addTo(t),g.current=e,console.log(`‚úÖ Successfully rendered ${s.length} renovation areas`)}if(e.length>0&&!_.current){let i=r.default.latLngBounds(e.map(e=>[e.latitude,e.longitude]));t.fitBounds(i,{padding:[50,50]}),_.current=!0}},[e,l,d,s,o,a]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.default,{id:"8c726aafc29b0ebc",children:".custom-marker>div:hover{opacity:1!important}.leaflet-marker-icon:hover{z-index:1000!important}"}),(0,t.jsx)("div",{ref:h,className:"jsx-8c726aafc29b0ebc h-full w-full"})]})}e.i(70733),e.i(71434),delete r.default.Icon.Default.prototype._getIconUrl,r.default.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"}),e.s(["default",()=>s])},66148,e=>{e.n(e.i(85071))}]);